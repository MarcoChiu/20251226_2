import{r as l,M as x,j as e,a as h,A as u}from"./index-Cq6l2nTs.js";const p=()=>{const[r,o]=l.useState([]),[s,d]=l.useState(null),n=l.useRef(null),c=l.useRef(null);l.useEffect(()=>{c.current=new x(n.current)},[]),l.useEffect(()=>{(async()=>{try{const t=await h.get(u.adminProducts);o(t.data.products)}catch(t){console.error("Error loading products:",t),alert("取得產品失敗")}})()},[]);const m=a=>{d(a),c.current.show()},i=()=>{d(null),c.current.hide()};return e.jsxs("div",{className:"container mt-3",children:[e.jsx("div",{className:"row",children:r.length>0&&r.map(a=>e.jsx("div",{className:"col-md-4 mb-4",children:e.jsxs("div",{className:"card h-100 d-flex flex-column",children:[e.jsx("img",{src:a.imageUrl,className:"card-img-top",alt:a.title,style:{maxHeight:"350px",objectFit:"cover"}}),e.jsxs("div",{className:"card-body d-flex flex-column",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h5",{className:"card-title text-primary",children:a.title}),e.jsx("p",{className:"card-text",style:{textAlign:"justify"},children:a.description})]}),e.jsxs("div",{className:"mt-2 d-flex justify-content-between align-items-center",children:[e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>m(a),children:"詳細內容"}),e.jsx("span",{className:"btn btn-outline-danger",children:a.category})]})]})]})},a.id))}),e.jsx("div",{className:"modal fade",ref:n,tabIndex:"-1","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsx("div",{className:"modal-content",children:s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title font-weight-bold",children:s.title}),e.jsx("button",{type:"button",className:"btn-close",onClick:i,"aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("img",{src:s.imageUrl,className:"img-fluid rounded mb-3",alt:s.title}),e.jsx("p",{className:"text-muted",children:e.jsx("span",{className:"badge bg-secondary mb-2",children:s.category})}),e.jsx("h6",{children:"產品描述："}),e.jsx("p",{children:s.description}),e.jsx("hr",{}),e.jsxs("p",{className:"mb-0",children:["售價：",e.jsx("strong",{className:"text-danger",children:s.price})," ",s.unit," / ",e.jsx("del",{className:"text-muted",children:s.origin_price})," ",s.unit]}),s.imagesUrl&&s.imagesUrl.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h6",{children:"更多圖片："}),e.jsx("div",{className:"d-flex flex-wrap gap-2",children:s.imagesUrl.map((a,t)=>e.jsx("img",{src:a,className:"img-fluid rounded shadow-sm",style:{width:"100px",height:"100px",objectFit:"cover"},alt:`${s.title}-${t}`},t))})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:i,children:"關閉"})})]})})})})]})};export{p as default};
