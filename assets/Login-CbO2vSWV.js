import{u as x,f as j,r as c,j as a,e as f,l as g,s as b}from"./index-Cahs5yJC.js";import{a as N,s as v}from"./sweetAlert-BB8DS3-L.js";const L=()=>{const m=x(),d=j(),[e,h]=c.useState({email:"",password:""}),[o,n]=c.useState(!1),i=t=>{const{name:s,value:r}=t.target;h(l=>({...l,[s]:r}))},p=async t=>{t.preventDefault(),n(!0);try{const s=await g({username:e.email,password:e.password}),{token:r,expired:l}=s;if(r){await N("success","登入成功"),b(r,l);const u=d.state?.from?.pathname||"/";m(u,{replace:!0})}}catch(s){v("error","登入失敗",s.response?.data?.message||"發生錯誤")}finally{n(!1)}};return a.jsxs(a.Fragment,{children:[o&&a.jsx(f,{}),a.jsx("div",{className:"container mt-5",children:a.jsx("div",{className:"row justify-content-center",children:a.jsx("div",{className:"col-md-6 col-lg-4",children:a.jsx("div",{className:"card shadow-sm",children:a.jsxs("div",{className:"card-body",children:[a.jsx("h2",{className:"card-title text-center mb-4",children:"登入"}),a.jsxs("form",{onSubmit:p,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"請輸入email name@example.com",value:e.email,onChange:i,required:!0})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("label",{htmlFor:"password",className:"form-label",children:"密碼"}),a.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"請輸入密碼",value:e.password,onChange:i,required:!0})]}),a.jsx("div",{className:"d-grid gap-2",children:a.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:"登入"})})]})]})})})})})]})};export{L as default};
