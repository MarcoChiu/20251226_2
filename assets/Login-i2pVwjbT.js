import{u as p,e as h,r as u,j as e,a as x,A as j,s as N}from"./index-Dmd8TwwC.js";const b=()=>{const n=p(),c=h(),[s,i]=u.useState({email:"",password:""}),l=t=>{const{name:a,value:r}=t.target;i(o=>({...o,[a]:r}))},m=async t=>{t.preventDefault();try{const a=await x.post(j.signin,{username:s.email,password:s.password});console.log("Login success:",a.data),alert("登入成功");const{token:r,expired:o}=a.data;if(r){N(r,o);const d=c.state?.from?.pathname||"/";n(d,{replace:!0})}}catch(a){console.error("Login failed:",a),alert("登入失敗: "+(a.response?.data?.message||"發生錯誤"))}};return e.jsx("div",{className:"container mt-5",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-6 col-lg-4",children:e.jsx("div",{className:"card shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-center mb-4",children:"登入"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"name@example.com",value:s.email,onChange:l,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"密碼"}),e.jsx("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Enter your password",value:s.password,onChange:l,required:!0})]}),e.jsx("div",{className:"d-grid gap-2",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"登入"})})]})]})})})})})};export{b as default};
