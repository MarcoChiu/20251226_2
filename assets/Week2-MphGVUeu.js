import{r as l,M as x,j as e}from"./index-o8LrowzA.js";import{g as h}from"./productService-ShWVHG_R.js";import{S as u}from"./sweetalert2.esm.all-BQxta0Da.js";const N=()=>{const[c,o]=l.useState([]),[a,r]=l.useState(null),n=l.useRef(null),t=l.useRef(null);l.useEffect(()=>{t.current=new x(n.current)},[]),l.useEffect(()=>{(async()=>{try{const s=await h();o(s.products)}catch(s){u.fire({icon:"error",title:"取得產品失敗",text:s.response?.data?.message||"發生錯誤"})}})()},[]);const m=s=>{r(s),t.current.show()},d=()=>{r(null),t.current.hide()};return e.jsxs("div",{className:"container mt-3",children:[e.jsx("div",{className:"row",children:c.length>0&&c.map(s=>e.jsx("div",{className:"col-md-4 mb-4",children:e.jsxs("div",{className:"card h-100 d-flex flex-column",children:[s.imageUrl?e.jsx("img",{src:s.imageUrl,className:"card-img-top",alt:s.title,style:{maxHeight:"350px",objectFit:"cover"},loading:"lazy"}):e.jsx("div",{className:"w-100 bg-secondary d-flex align-items-center justify-content-center",style:{height:"250px"},children:e.jsx("span",{className:"text-white",children:"無圖片"})}),e.jsxs("div",{className:"card-body d-flex flex-column",children:[e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h5",{className:"card-title text-primary",children:s.title}),e.jsx("p",{className:"card-text",style:{textAlign:"justify"},children:s.description})]}),e.jsxs("div",{className:"mt-2 d-flex justify-content-between align-items-center",children:[e.jsx("button",{type:"button",className:"btn btn-success",onClick:()=>m(s),children:"詳細內容"}),e.jsx("span",{className:"btn btn-outline-danger",children:s.category})]})]})]})},s.id))}),e.jsx("div",{className:"modal fade",ref:n,tabIndex:"-1","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsx("div",{className:"modal-content",children:a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title font-weight-bold",children:a.title}),e.jsx("button",{type:"button",className:"btn-close",onClick:d,"aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("img",{src:a.imageUrl,className:"img-fluid rounded mb-3",alt:a.title}),e.jsx("p",{className:"text-muted",children:e.jsx("span",{className:"badge bg-secondary mb-2",children:a.category})}),e.jsx("h6",{children:"產品描述："}),e.jsx("p",{children:a.description}),e.jsx("hr",{}),e.jsxs("p",{className:"mb-0",children:["售價：",e.jsx("strong",{className:"text-danger",children:a.price})," ",a.unit," / ",e.jsx("del",{className:"text-muted",children:a.origin_price})," ",a.unit]}),a.imagesUrl&&a.imagesUrl.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h6",{children:"更多圖片："}),e.jsx("div",{className:"d-flex flex-wrap gap-2",children:a.imagesUrl.map((s,i)=>e.jsx("img",{src:s,className:"img-fluid rounded shadow-sm",style:{width:"100px",height:"100px",objectFit:"cover"},alt:`${a.title}-${i}`,loading:"lazy"},i))})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:d,children:"關閉"})})]})})})})]})};export{N as default};
